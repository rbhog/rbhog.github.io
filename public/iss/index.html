<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Illinois Space Society Spaceshot Avionics | Rithvik Bhogavilli</title>
<meta name="keywords" content="">
<meta name="description" content="Developing simulations and control aglorithms for the Spaceshot rocket.">
<meta name="author" content="">
<link rel="canonical" href="https://rbhog.me/iss/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css" integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://rbhog.me/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://rbhog.me/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://rbhog.me/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://rbhog.me/apple-touch-icon.png">
<link rel="mask-icon" href="https://rbhog.me/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-QGW1B7LR08"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-QGW1B7LR08', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Illinois Space Society Spaceshot Avionics" />
<meta property="og:description" content="Developing simulations and control aglorithms for the Spaceshot rocket." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rbhog.me/iss/" /><meta property="article:section" content="experience-desc" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Illinois Space Society Spaceshot Avionics"/>
<meta name="twitter:description" content="Developing simulations and control aglorithms for the Spaceshot rocket."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Experience-descs",
      "item": "https://rbhog.me/experience-desc/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Illinois Space Society Spaceshot Avionics",
      "item": "https://rbhog.me/iss/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Illinois Space Society Spaceshot Avionics",
  "name": "Illinois Space Society Spaceshot Avionics",
  "description": "Developing simulations and control aglorithms for the Spaceshot rocket.",
  "keywords": [
    
  ],
  "articleBody": "Summary Implemented custom 3 DOF Kalman Filter on Teensy 4.1 in C++ for state estimation during flight to control airbrake mechanism. Designed 3 DOF Kalman Filters fusing barometer, accelerometer, and gyroscope data to estimate displacement and orientation. Created 6 DOF rocket physics simulation and emulated flight sensor suite in Python for testing control algorithms. Designed and implemented scheduler for experimental finite state machines on rocket in ChibiOS to compare effectiveness in flight. Spaceport America Cup The Spaceport America Cup is the world’s largest intercollegiate rocketry competition where teams design and build a rocket to launch and get as close to a target apogee as possible. Our team competed in the 30,000 ft. COTS Solid Rocket Motor category, where we designed a rocket to launch to 30,000 ft. using a commercial solid rocket motor and an active drag mechanism to control the rocket’s apogee. Our rocket had a successful launch, reaching an apogee of 27,309 feet and leading us to win runner’s up at the event for our category.\nGNC and Software Joining the team, I had some background to control systems through mentoring my high school robotics teams along with taking a control systems course at my school. Despite this, joining the GNC team was a big leap for me since in those previous environments, I had never dealt with the process of designing control algorithms from scratch. My first tasks on the team involved changing our current Kalman Filter for estimating apogee to not be affected by sensor drift. Our original approach to this was to have a rolling window of barometer data and set our original state to the average of this window. With this and other changes in hand, we were prepared for our October test flight to 15,000 feet.\nOur October launch was mostly a success with a successful recovery, however we had overshot our target apogee of 15,000 feet, leading us to believe that our active control mechanism was not working as intended. Looking at the data, we realized that the airbrake actuation data was not being logged, leading us to find other ways to validate our control mechanism. As a part of this, I worked towards developing a system that would allow us to replay previous flight data on our flight hardware. This system later evolved into our current hardware-in-loop simulation where we stream sensor data to our flight hardware over serial and observe the response of our control algorithms and telemetry systems.\nMy next major project was expanding our 1DOF Kalman Filter to a 3DOF Kalman Filter to estimate the rocket’s displacement and later another to estimate the rocket’s orientation. To develop these systems, we would need to develop a new simulation that enabled rapid prototyping for our control systems. As a result, we developed a 6DOF simulation in Python that emulated the rocket’s physics and sensor suite. In this, I was responsible for simulating the rocket’s motor, moment of inertia, and eventually writing the actual Kalman Filters.\nMy future plans for GNC are to focus on onboarding. The way we introduced Kalman Filters seemed arbitrary and by focusing on smaller projects such as an alpha-beta-gamma filter or figuring out why a Madgewick filter might not suit our needs would pose a Kalman Filter as a natural progression of development rather than an arbitrary solution to a problem.\nYou can check out the flight code I worked on here and the simulations here.\n",
  "wordCount" : "570",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://rbhog.me/iss/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Rithvik Bhogavilli",
    "logo": {
      "@type": "ImageObject",
      "url": "https://rbhog.me/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://rbhog.me/" accesskey="h" title="Rithvik Bhogavilli (Alt + H)">Rithvik Bhogavilli</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://rbhog.me/about-me/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://rbhog.me/education/" title="Education">
                    <span>Education</span>
                </a>
            </li>
            <li>
                <a href="https://rbhog.me/experience/" title="Experience">
                    <span>Experience</span>
                </a>
            </li>
            <li>
                <a href="https://rbhog.me/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://rbhog.me/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Illinois Space Society Spaceshot Avionics
    </h1>
    <div class="post-meta">

</div>
  </header> 
  <div class="post-content"><h3 id="summary">Summary<a hidden class="anchor" aria-hidden="true" href="#summary">#</a></h3>
<ul>
<li>Implemented custom 3 DOF Kalman Filter on Teensy 4.1 in C++ for state estimation during flight to control airbrake mechanism.</li>
<li>Designed 3 DOF Kalman Filters fusing barometer, accelerometer, and gyroscope data to estimate displacement and orientation.</li>
<li>Created 6 DOF rocket physics simulation and emulated flight sensor suite in Python for testing control algorithms.</li>
<li>Designed and implemented scheduler for experimental finite state machines on rocket in ChibiOS to compare effectiveness in flight.</li>
</ul>
<h3 id="spaceport-america-cup">Spaceport America Cup<a hidden class="anchor" aria-hidden="true" href="#spaceport-america-cup">#</a></h3>
<p>The Spaceport America Cup is the world&rsquo;s largest intercollegiate rocketry competition where teams design and build a rocket to launch and get as close to a target apogee as possible.
Our team competed in the 30,000 ft. COTS Solid Rocket Motor category, where we designed a rocket to launch to 30,000 ft. using a commercial solid rocket motor and an active drag mechanism to control the rocket&rsquo;s
apogee. Our rocket had a successful launch, reaching an apogee of 27,309 feet and leading us to win runner&rsquo;s up at the event for our category.</p>
<h3 id="gnc-and-software">GNC and Software<a hidden class="anchor" aria-hidden="true" href="#gnc-and-software">#</a></h3>
<p>Joining the team, I had some background to control systems through mentoring my high school robotics teams along with taking a control systems course at my school. Despite this, joining the GNC team was a big leap for me since in those previous environments, I had never
dealt with the process of designing control algorithms from scratch. My first tasks on the team involved changing our current Kalman Filter for estimating apogee to not be affected by sensor drift. Our original approach to this was to have a rolling
window of barometer data and set our original state to the average of this window. With this and other changes in hand, we were prepared for our October test flight to 15,000 feet.</p>
<p>Our October launch was mostly a success with a successful recovery, however we had overshot our target apogee of 15,000 feet, leading us to believe that our active control mechanism was not working as intended. Looking at the data, we realized that the airbrake actuation
data was not being logged, leading us to find other ways to validate our control mechanism. As a part of this, I worked towards developing a system that would allow us to replay previous flight data on our flight hardware. This system later evolved into our current hardware-in-loop simulation where we stream sensor data to our flight hardware over serial and observe the response of our control algorithms and telemetry systems.</p>
<p>My next major project was expanding our 1DOF Kalman Filter to a 3DOF Kalman Filter to estimate the rocket&rsquo;s displacement and later another to estimate the rocket&rsquo;s orientation. To develop these systems, we would need to develop a new simulation that enabled rapid prototyping for our control systems. As a result, we developed a 6DOF simulation in Python that emulated the rocket&rsquo;s physics and sensor suite. In this, I was responsible for simulating the rocket&rsquo;s motor, moment of inertia, and eventually writing the actual Kalman Filters.</p>
<p>My future plans for GNC are to focus on onboarding. The way we introduced Kalman Filters seemed arbitrary and by focusing on smaller projects such as an alpha-beta-gamma filter or figuring out why a Madgewick filter might not suit our needs would pose a Kalman Filter as a natural progression of development rather than an arbitrary solution to a problem.</p>
<p>You can check out the flight code I worked on <a href="https://github.com/ISSUIUC/TARS-Software/tree/master">here</a> and the simulations <a href="https://github.com/ISSUIUC/TARS-Controls/tree/main/Simulation/6DOF_RK4">here</a>.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://rbhog.me/">Rithvik Bhogavilli</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
